<form [formGroup]="form" (ngSubmit)="onAdd()">
  <div class="row g-4 mx-4">
    
    <!-- Product Code -->
    <!-- <div class="form-group col-xl-6 col-sm-6 col-12">
      <label for="ProductCode">Product Code <span class="error-color">*</span></label>
      <input
        id="ProductCode"
        type="text"
        class="form-control"
        placeholder="Enter Code"
        formControlName="ProductCode"
      />
      <small
        *ngIf="form.get('ProductCode')?.invalid && form.get('ProductCode')?.touched"
        class="text-danger"
      >
        Product Code is required.
      </small>
    </div> -->

    <!-- Product Name -->
    <!-- <div class="form-group col-xl-6 col-sm-6 col-12">
      <label for="ProductName">Product Name <span class="error-color">*</span></label>
      <input
        id="ProductName"
        type="text"
        class="form-control"
        placeholder="Enter Product Name"
        formControlName="ProductName"
      />
      <small
        *ngIf="form.get('ProductName')?.invalid && form.get('ProductName')?.touched"
        class="text-danger"
      >
        Product Name is required.
      </small>
    </div> -->

    <!-- Description -->
    <!-- <div class="form-group col-xl-6 col-sm-6 col-12">
      <label for="Description">Description <span class="error-color">*</span></label>
      <textarea
        id="Description"
        class="form-control"
        placeholder="Enter Description"
        formControlName="Description"
        rows="1"
      ></textarea>
      <small
        *ngIf="form.get('Description')?.invalid && form.get('Description')?.touched"
        class="text-danger"
      >
        Description is required.
      </small>
    </div> -->

    <!-- Product Name -->

    <ng-container *ngFor="let col of configration">
      <div class="form-group col-xl-6 col-sm-6 col-12" *ngIf="col.Column_Status === 'Show'">
        <label [for]="col.Column_Name">
          {{ col.ColumnLabel }}
          <span *ngIf="col.IsRequired === 'YES'" class="error-color">*</span>
        </label>
        <input
          [id]="col.Column_Name"
          type="text"
          class="form-control"
          [placeholder]="col.ToolTipText"
          [formControlName]="col.Column_Name"
          [required]="col.IsRequired === 'YES'"
        />
        <!-- Required -->
         <div
      *ngIf="
        form.get(col.Column_Name)?.invalid &&
        (form.get(col.Column_Name)?.dirty || form.get(col.Column_Name)?.touched)
      "
    >
        <small
          *ngIf="form.get(col.Column_Name)?.hasError('required') && form.get(col.Column_Name)?.touched"
          class="text-danger"
        >
          {{ col.ColumnLabel }} is required.
        </small>

        <!-- Min Length -->
        <small
          *ngIf="
            form.get(col.Column_Name)?.hasError('minlength') && form.get(col.Column_Name)?.touched
          "
          class="text-danger"
        >
          Minimun {{ col.Min_Length }} characters required.
        </small>

        <!-- Max Length -->
        <small
          *ngIf="
            form.get(col.Column_Name)?.hasError('maxlength') && form.get(col.Column_Name)?.touched
          "
          class="text-danger"
        >
          Maximun {{ col.Max_Length }} characters required
        </small>
        </div>
      </div>
    </ng-container>

    <!-- Active Since -->
    <!-- <div class="form-group col-xl-6 col-sm-6 col-12">
      <label for="ActiveSince">Active Since <span class="error-color">*</span></label>
      <input
        id="ActiveSince"
        type="text"
        class="form-control"
        placeholder="Select Activation Date"
        formControlName="ActiveSince"
        bsDatepicker
        [bsConfig]="datePickerConfig"
        autocomplete="off"
      />
      <small
        *ngIf="form.get('ActiveSince')?.invalid && form.get('ActiveSince')?.touched"
        class="text-danger"
      >
        Activation date is required.
      </small>
    </div> -->

    <!-- Row Status -->
    <!-- <div class="form-group col-xl-6 col-sm-6 col-12">
      <label for="Rowstatus">Row Status <span class="error-color">*</span></label>
      <input
        id="Rowstatus"
        type="text"
        class="form-control"
        placeholder="Enter Row Status"
        formControlName="Rowstatus"
      />
      <small
        *ngIf="form.get('Rowstatus')?.invalid && form.get('Rowstatus')?.touched"
        class="text-danger"
      >
        Row Status is required.
      </small>
    </div> -->

    <!-- Submit Button -->
    <div class="box-footer mt-4 d-flex justify-content-center">
      <button mat-raised-button color="accent">
        <mat-icon *ngIf="!loadingIndicator()">upload</mat-icon>
        <span *ngIf="!loadingIndicator()">{{ 'Submit' }}</span>
      </button>
    </div>
  </div>
</form>
